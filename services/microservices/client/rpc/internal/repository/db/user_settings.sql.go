// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: user_settings.sql

package db

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const countUserSettings = `-- name: CountUserSettings :one
SELECT COUNT(*) FROM user_settings
`

func (q *Queries) CountUserSettings(ctx context.Context) (int64, error) {
	row := q.db.QueryRowContext(ctx, countUserSettings)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createUserSettings = `-- name: CreateUserSettings :one
INSERT INTO user_settings (
    theme, language, timezone, email_notifications, push_notifications,
    habit_reminders, goal_reminders, user_id
) VALUES ($1, $2, $3, $4, $5, $6, $7, $8)
RETURNING id, theme, language, timezone, email_notifications, push_notifications, habit_reminders, goal_reminders, user_id, created_at, updated_at
`

type CreateUserSettingsParams struct {
	Theme              string       `db:"theme" json:"theme"`
	Language           string       `db:"language" json:"language"`
	Timezone           string       `db:"timezone" json:"timezone"`
	EmailNotifications sql.NullBool `db:"email_notifications" json:"email_notifications"`
	PushNotifications  sql.NullBool `db:"push_notifications" json:"push_notifications"`
	HabitReminders     sql.NullBool `db:"habit_reminders" json:"habit_reminders"`
	GoalReminders      sql.NullBool `db:"goal_reminders" json:"goal_reminders"`
	UserID             uuid.UUID    `db:"user_id" json:"user_id"`
}

func (q *Queries) CreateUserSettings(ctx context.Context, arg CreateUserSettingsParams) (UserSetting, error) {
	row := q.db.QueryRowContext(ctx, createUserSettings,
		arg.Theme,
		arg.Language,
		arg.Timezone,
		arg.EmailNotifications,
		arg.PushNotifications,
		arg.HabitReminders,
		arg.GoalReminders,
		arg.UserID,
	)
	var i UserSetting
	err := row.Scan(
		&i.ID,
		&i.Theme,
		&i.Language,
		&i.Timezone,
		&i.EmailNotifications,
		&i.PushNotifications,
		&i.HabitReminders,
		&i.GoalReminders,
		&i.UserID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const deleteUserSettings = `-- name: DeleteUserSettings :exec
DELETE FROM user_settings WHERE user_id = $1
`

func (q *Queries) DeleteUserSettings(ctx context.Context, userID uuid.UUID) error {
	_, err := q.db.ExecContext(ctx, deleteUserSettings, userID)
	return err
}

const getUserSettings = `-- name: GetUserSettings :one
SELECT id, theme, language, timezone, email_notifications, push_notifications, habit_reminders, goal_reminders, user_id, created_at, updated_at FROM user_settings WHERE user_id = $1
`

func (q *Queries) GetUserSettings(ctx context.Context, userID uuid.UUID) (UserSetting, error) {
	row := q.db.QueryRowContext(ctx, getUserSettings, userID)
	var i UserSetting
	err := row.Scan(
		&i.ID,
		&i.Theme,
		&i.Language,
		&i.Timezone,
		&i.EmailNotifications,
		&i.PushNotifications,
		&i.HabitReminders,
		&i.GoalReminders,
		&i.UserID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getUserSettingsByID = `-- name: GetUserSettingsByID :one
SELECT id, theme, language, timezone, email_notifications, push_notifications, habit_reminders, goal_reminders, user_id, created_at, updated_at FROM user_settings WHERE id = $1
`

func (q *Queries) GetUserSettingsByID(ctx context.Context, id uuid.UUID) (UserSetting, error) {
	row := q.db.QueryRowContext(ctx, getUserSettingsByID, id)
	var i UserSetting
	err := row.Scan(
		&i.ID,
		&i.Theme,
		&i.Language,
		&i.Timezone,
		&i.EmailNotifications,
		&i.PushNotifications,
		&i.HabitReminders,
		&i.GoalReminders,
		&i.UserID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const updateUserSettings = `-- name: UpdateUserSettings :one
UPDATE user_settings
SET theme = $2, language = $3, timezone = $4, email_notifications = $5,
    push_notifications = $6, habit_reminders = $7, goal_reminders = $8, updated_at = CURRENT_TIMESTAMP
WHERE user_id = $1
RETURNING id, theme, language, timezone, email_notifications, push_notifications, habit_reminders, goal_reminders, user_id, created_at, updated_at
`

type UpdateUserSettingsParams struct {
	UserID             uuid.UUID    `db:"user_id" json:"user_id"`
	Theme              string       `db:"theme" json:"theme"`
	Language           string       `db:"language" json:"language"`
	Timezone           string       `db:"timezone" json:"timezone"`
	EmailNotifications sql.NullBool `db:"email_notifications" json:"email_notifications"`
	PushNotifications  sql.NullBool `db:"push_notifications" json:"push_notifications"`
	HabitReminders     sql.NullBool `db:"habit_reminders" json:"habit_reminders"`
	GoalReminders      sql.NullBool `db:"goal_reminders" json:"goal_reminders"`
}

func (q *Queries) UpdateUserSettings(ctx context.Context, arg UpdateUserSettingsParams) (UserSetting, error) {
	row := q.db.QueryRowContext(ctx, updateUserSettings,
		arg.UserID,
		arg.Theme,
		arg.Language,
		arg.Timezone,
		arg.EmailNotifications,
		arg.PushNotifications,
		arg.HabitReminders,
		arg.GoalReminders,
	)
	var i UserSetting
	err := row.Scan(
		&i.ID,
		&i.Theme,
		&i.Language,
		&i.Timezone,
		&i.EmailNotifications,
		&i.PushNotifications,
		&i.HabitReminders,
		&i.GoalReminders,
		&i.UserID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
